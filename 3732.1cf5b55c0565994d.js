"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3732],{3563:(L,H,C)=>{C.d(H,{E:()=>o});class o{constructor(){this.UserId=null,this.Location=null,this.Description=null,this.CatId=null,this.Share=null,this.AreaId=null}}},9337:(L,H,C)=>{C.d(H,{G:()=>$});var o=C(655),c=C(9863),T=C(4573),v=C(5362),M=(()=>{return(p=M||(M={}))[p.Up=1]="Up",p[p.Down=3]="Down",p[p.Right=6]="Right",p[p.Left=8]="Left",p[p.UpMirrored=2]="UpMirrored",p[p.DownMirrored=4]="DownMirrored",p[p.LeftMirrored=5]="LeftMirrored",p[p.RightMirrored=7]="RightMirrored",p[p.Default=0]="Default",p[p.NotJpeg=-1]="NotJpeg",p[p.NotDefined=-2]="NotDefined",M;var p})();class _{}_.getOrientation=p=>new Promise((m,l)=>{try{const g=new FileReader;g.onload=()=>{const r=new DataView(g.result);if(!r.byteLength||65496!==r.getUint16(0,!1))return m(M.NotDefined);const h=r.byteLength;let e=2;for(;e<h;){const t=r.getUint16(e,!1);if(e+=2,65505===t){if(1165519206!==r.getUint32(e+=2,!1))return m(M.NotJpeg);const i=18761===r.getUint16(e+=6,!1);e+=r.getUint32(e+4,i);const n=r.getUint16(e,i);e+=2;for(let a=0;a<n;a++)if(274===r.getUint16(e+12*a,i))return m(r.getUint16(e+12*a+8,i))}else{if(65280!=(65280&t))break;e+=r.getUint16(e,!1)}}return m(M.NotJpeg)},g.readAsArrayBuffer(p)}catch(g){return l(M.Default)}}),_.uploadFile=(p,m=!0,l=!1)=>new Promise(function(g,r){const h=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);Promise.resolve(h).then(e=>e?_.generateUploadInputNative(window.document,m,l):_.generateUploadInputRenderer(p,m,l)).then(e=>{const t=e?Array.from(e):[],i=t.map(s=>_.getOrientation(s)),n=t.map(s=>_.fileToDataURL(s));let a=[];Promise.all(i).then(s=>(a=s,Promise.all(n))).then(s=>{const d=s.map((f,u)=>({image:f.dataUrl,orientation:a[u],fileName:f.fileName}));g(m?d:d[0])})}).catch(e=>r(e))}),_.fileToDataURL=p=>new Promise((m,l)=>{const g=new FileReader;g.onload=r=>{m({dataUrl:r.target.result,fileName:p.name})};try{g.readAsDataURL(p)}catch(r){l(`ngx-image-compress - probably no file have been selected: ${r}`)}}),_.generateUploadInputRenderer=(p,m=!0,l=!1)=>{let g=!1;return new Promise((r,h)=>{const e=p.createElement("input");p.setStyle(e,"display","none"),p.setProperty(e,"type","file"),p.setProperty(e,"accept","image/*"),m&&p.setProperty(e,"multiple","true"),p.listen(e,"click",t=>{t.target.value=""}),p.listen(e,"change",t=>{g=!0,r(t.target.files)}),l&&window.addEventListener("focus",()=>{setTimeout(()=>{g||h(new Error("file upload on blur - no file selected"))},300)},{once:!0}),e.click()})},_.generateUploadInputNative=(p,m=!0,l=!1)=>{let g=!1;return new Promise((r,h)=>{const e=p.createElement("input");e.id="upload-input"+new Date,e.style.display="none",e.setAttribute("type","file"),m&&e.setAttribute("multiple","true"),p.body.appendChild(e),e.addEventListener("change",()=>{g=!0,r(e.files),p.body.removeChild(p.getElementById(e.id))},{once:!0}),l&&window.addEventListener("focus",()=>{setTimeout(()=>{!g&&p.getElementById(e.id)&&(h(new Error("file upload on blur - no file selected")),p.body.removeChild(p.getElementById(e.id)))},300)},{once:!0}),e.click()})},_.compress=(p,m,l,g=50,r=50,h=0,e=0)=>new Promise(function(t,i){r/=100,g/=100;const n=new Image;n.onload=()=>{const a=l.createElement("canvas"),s=a.getContext("2d");if(!s)return i("No canvas context available");let d=n.naturalWidth,f=n.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(m===M.Right||m===M.Left)){const w=d;d=f,f=w}g=Math.min(g,h?h/d:1,e?e/f:1),a.width=d*g,a.height=f*g;const A=Math.PI/180;CSS.supports("image-orientation","from-image")||m===M.Up?s.drawImage(n,0,0,a.width,a.height):m===M.Right?(s.save(),s.rotate(90*A),s.translate(0,-a.width),s.drawImage(n,0,0,a.height,a.width),s.restore()):m===M.Left?(s.save(),s.rotate(-90*A),s.translate(-a.width,0),s.drawImage(n,0,0,a.height,a.width),s.restore()):m===M.Down?(s.save(),s.rotate(180*A),s.translate(-a.width,-a.height),s.drawImage(n,0,0,a.width,a.height),s.restore()):s.drawImage(n,0,0,a.width,a.height);const z=p.substr(5,p.split(";")[0].length-5),R=a.toDataURL(z,r);t(R)},n.onerror=a=>i(a),n.src=p}),_.byteCount=p=>encodeURI(p).split(/%..|./).length-1,_.getImageMaxSize=(p,m,l)=>(0,o.mG)(void 0,void 0,void 0,function*(){const r=t=>(t/1024/1024).toFixed(2);m&&console.debug("NgxImageCompress - Opening upload window");let e,h=yield _.uploadFile(l,!1);for(let t=0;t<10;t++){const i=_.byteCount(h.image);e=yield _.compress(h.image,h.orientation,l,50,100);const n=_.byteCount(e);if(console.debug("NgxImageCompress -","Compression from",r(i),"MB to",r(n),"MB"),n>=i)throw 0===t?(m&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",r(i),"MB large"),h.image):(m&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",r(i),"MB large"),h.image);if(n<1024*p*1024)return m&&console.debug("NgxImageCompress -","Here your file",r(n),"MB large"),e;if(9===t)throw m&&console.debug("NgxImageCompress -","File can't reach the desired size after",10,"tries. Returning file ",r(i),"MB large"),h.image;m&&console.debug("NgxImageCompress -","Reached",r(n),"MB large. Trying another time after",t+1,"times"),h.image=e}throw m&&console.debug("NgxImageCompress - Unexpected error"),""});let U=(()=>{class p{constructor(l){this.DOC_ORIENTATION=M,this.render=l.createRenderer(null,null)}byteCount(l){return _.byteCount(l)}getOrientation(l){return _.getOrientation(l)}uploadFile(){return _.uploadFile(this.render,!1)}uploadMultipleFiles(){return _.uploadFile(this.render,!0)}uploadFileOrReject(){return _.uploadFile(this.render,!1,!0)}uploadMultipleFilesOrReject(){return _.uploadFile(this.render,!0,!0)}compressFile(l,g,r=50,h=50,e=0,t=0){return _.compress(l,g,this.render,r,h,e,t)}uploadAndGetImageWithMaxSize(l=1,g=!1){return _.getImageMaxSize(l,g,this.render)}}return p.\u0275fac=function(l){return new(l||p)(c.LFG(c.FYo))},p.\u0275prov=c.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var D=C(3877);const Q=["cropper"];let y=(()=>{class p{constructor(l,g){this.modalController=l,this.imageCompress=g,this.Width=null,this.height=null,this.rounded=!1,this.fix=!1,this.loading=!0,this.imageChangedEvent="",this.croppedImage="",this.hideResizeSquares=!1,this.imagefile=[],this.rotation=0}ngOnInit(){return(0,o.mG)(this,void 0,void 0,function*(){this.fix=this.fix,this.selectFile(this.src),this.hideResizeSquares&&(this.hideResizeSquares=this.hideResizeSquares),this.imageChangedEvent=this.event})}selectFile(l){let g;if(this.file=l.target.files[0],g=this.file.name,l.target.files&&l.target.files[0]){const r=new FileReader;r.onload=h=>{this.localUrl=h.target.result,this.file.size>T.v.qualityImage&&this.compressFile(this.localUrl,g)},r.readAsDataURL(l.target.files[0])}}compressFile(l,g){this.sizeOfOriginalImage=this.imageCompress.byteCount(l)/1048576,this.imageCompress.compressFile(l,-1,50,T.v.qualityImage).then(h=>{this.imgResultAfterCompress=h,this.localCompressedURl=h,this.sizeOFCompressedImage=this.imageCompress.byteCount(h)/1048576;const e=g,t=this.dataURItoBlob(this.imgResultAfterCompress.split(",")[1]);new File([h],e,{type:"image/png"}),this.fileBlob=t})}dataURItoBlob(l){const g=window.atob(l),r=new ArrayBuffer(g.length),h=new Uint8Array(r);for(let e=0;e<g.length;e++)h[e]=g.charCodeAt(e);return new Blob([h],{type:"image/png"})}ngOnChanges(l){}dataURLtoFile(l,g){let r=l.split(","),h=r[0].match(/:(.*?);/)[1],e=atob(r[1]),t=e.length,i=new Uint8Array(t);for(;t--;)i[t]=e.charCodeAt(t);return new File([i],g,{type:h})}fileChangeEvent(l){this.imageChangedEvent=l}imageCropped(l){this.croppedImage=l.base64,this.imagefile[0]=this.dataURLtoFile(l.base64,"a.png")}imageLoaded(l){this.loading=!1}cropperReady(){}loadImageFailed(){}rotate(l){this.rotation=l?this.rotation+1:this.rotation-1}cropper_send(){this.loading=!1,this.modalController.dismiss({files:this.imagefile})}close(){this.modalController.dismiss({files:void 0})}}return p.\u0275fac=function(l){return new(l||p)(c.Y36(v.IN),c.Y36(U))},p.\u0275cmp=c.Xpm({type:p,selectors:[["app-cropper"]],viewQuery:function(l,g){if(1&l&&c.Gf(Q,5),2&l){let r;c.iGM(r=c.CRH())&&(g.cropper=r.first)}},inputs:{event:"event",componentHeight:"componentHeight",componentWidth:"componentWidth"},features:[c.TTD],decls:12,vars:14,consts:[[1,"menu"],["name","close-circle-outline",3,"click"],["src","assets\\icons\\rorate.svg",3,"click"],["src","assets\\icons\\rorate-r.svg",3,"click"],[1,"content"],["format","png",3,"imageChangedEvent","maintainAspectRatio","imageFile","roundCropper","cropperStaticWidth","cropperStaticHeight","cropperMinWidth","allowMoveImage","hideResizeSquares","cropperMinHeight","cropperMaxWidth","cropperMaxHeight","canvasRotation","onlyScaleDown","imageCropped","imageLoaded","cropperReady","loadImageFailed"],["cropper",""],[2,"width","100%","position","absolute","bottom","10px","text-align","center","margin-bottom","auto"],["color","primary",1,"med",3,"click"]],template:function(l,g){1&l&&(c.TgZ(0,"div",0)(1,"ion-icon",1),c.NdJ("click",function(){return g.close()}),c.qZA(),c.TgZ(2,"ion-thumbnail")(3,"img",2),c.NdJ("click",function(){return g.rotate(!1)}),c.qZA()(),c.TgZ(4,"ion-thumbnail")(5,"img",3),c.NdJ("click",function(){return g.rotate(!0)}),c.qZA()()(),c.TgZ(6,"div",4)(7,"image-cropper",5,6),c.NdJ("imageCropped",function(h){return g.imageCropped(h)})("imageLoaded",function(h){return g.imageLoaded(h)})("cropperReady",function(){return g.cropperReady()})("loadImageFailed",function(){return g.loadImageFailed()}),c.qZA(),c.TgZ(9,"div",7)(10,"ion-button",8),c.NdJ("click",function(){return g.cropper_send()}),c._uU(11,"\u062a\u0627\u06cc\u06cc\u062f"),c.qZA()()()),2&l&&(c.xp6(7),c.Q6J("imageChangedEvent",g.imageChangedEvent)("maintainAspectRatio",g.fix)("imageFile",g.fileBlob)("roundCropper",g.rounded)("cropperStaticWidth",g.Width)("cropperStaticHeight",g.height)("cropperMinWidth",g.Width)("allowMoveImage",!0)("hideResizeSquares",g.hideResizeSquares)("cropperMinHeight",g.height)("cropperMaxWidth",g.Width)("cropperMaxHeight",g.height)("canvasRotation",g.rotation)("onlyScaleDown",!0))},directives:[v.gu,v.Bs,D.ap,v.YG],styles:['.image-cropper[_ngcontent-%COMP%]{--cropper-outline-color: "rgba(255,255,255,0.7)";--cropper-overlay-color: "red" !important}  .ngx-ic-overlay{height:100%!important}  .ngx-ic-source-image{height:100%!important}.menu[_ngcontent-%COMP%]{width:100%;background-color:var(--ion-color-primary);height:58px;text-align:center;position:relative}.menu[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:11px;color:var(--ion-color-primary-contrast);font-size:30px;cursor:pointer}.menu[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{padding:11px;margin:0 2px;cursor:pointer;width:48px;height:48px;display:inline-block}.content[_ngcontent-%COMP%]{height:calc(100% - 58px);text-align:center;padding-right:10px;padding-left:10px;display:flex;align-content:center;justify-content:center;align-items:center;padding-bottom:55px}']}),p})();var Z=C(6475),Y=C(9808);const J=["dummyClick"];function X(p,m){1&p&&c._UZ(0,"div")}function W(p,m){if(1&p&&(c.TgZ(0,"ion-label",12),c._uU(1),c.qZA()),2&p){const l=c.oxw(3);c.xp6(1),c.hij("\u0641\u0631\u0645\u062a \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644 ",l.fileType,"")}}function V(p,m){if(1&p){const l=c.EpF();c.ynx(0),c.TgZ(1,"ion-button",6)(2,"div",7),c.NdJ("click",function(){return c.CHM(l),c.oxw(2).addFile()}),c._UZ(3,"ion-icon",8),c.TgZ(4,"ion-label"),c._uU(5),c.qZA(),c.TgZ(6,"input",9,10),c.NdJ("change",function(r){return c.CHM(l),c.oxw(2).handleMain(r)}),c.qZA()()(),c.YNc(8,W,2,1,"ion-label",11),c.BQk()}if(2&p){const l=c.oxw(2);c.xp6(5),c.Oqu(l.label),c.xp6(1),c.Q6J("accept",l.fileType),c.xp6(2),c.Q6J("ngIf",l.fileType)}}function q(p,m){if(1&p&&(c.TgZ(0,"a",18)(1,"ion-label"),c._uU(2),c.qZA()()),2&p){const l=c.oxw(3);c.Q6J("href",l.pishvand+l.fileSrc,c.LSH),c.xp6(2),c.hij(" ",l.getLabel()," ")}}function j(p,m){if(1&p&&(c.TgZ(0,"ion-label"),c._uU(1),c.qZA()),2&p){const l=c.oxw(3);c.xp6(1),c.hij(" ",l.getLabel()," ")}}function N(p,m){if(1&p){const l=c.EpF();c.TgZ(0,"ion-card",13)(1,"div",14),c.YNc(2,q,3,2,"a",15),c.YNc(3,j,2,1,"ion-label",3),c.TgZ(4,"ion-badge",16),c.NdJ("click",function(){return c.CHM(l),c.oxw(2).deleteItem()}),c._UZ(5,"ion-icon",17),c.qZA()()()}if(2&p){const l=c.oxw(2);c.xp6(2),c.Q6J("ngIf",l.fileSrc),c.xp6(1),c.Q6J("ngIf",!l.fileSrc)}}function G(p,m){if(1&p&&(c.YNc(0,V,9,3,"ng-container",3),c.TgZ(1,"ion-row",4),c.YNc(2,N,6,2,"ion-card",5),c.qZA()),2&p){const l=c.oxw();c.Q6J("ngIf",!l.formData&&!l.fileSrc),c.xp6(2),c.Q6J("ngIf",l.formData||l.fileSrc)}}function K(p,m){1&p&&(c.TgZ(0,"div",19),c._UZ(1,"ion-spinner"),c.qZA())}let $=(()=>{class p{constructor(l,g){this.app=l,this.modalCtrl=g,this.label="\u0622\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644",this.uploadedFiles=new c.vpe,this.fileSrc=void 0,this.loading=!1,this.pishvand=T.v.imgURL}set src(l){}addFile(){this.dummyClickRef.nativeElement.click()}handleMain(l){return(0,o.mG)(this,void 0,void 0,function*(){const g=l.target.files;if(!this.fileType.split(",").includes(g[0].name.slice(g[0].name.lastIndexOf("."))))return this.app.presentToast("\u0641\u0631\u0645\u062a \u0641\u0627\u06cc\u0644 \u0627\u0646\u062a\u062e\u0627\u0628\u06cc \u0645\u0648\u0631\u062f \u0642\u0628\u0648\u0644 \u0646\u0645\u06cc \u0628\u0627\u0634\u062f.","danger");if(g[0].type.match(/image-*/)){const r=yield this.modalCtrl.create({component:y,componentProps:{src:l,fix:!1}});yield r.present(),yield r.onDidDismiss().then(h=>{h.data.files&&this.handleInputChange(h.data.files)})}else this.handleInputChange(g)})}handleInputChange(l){this.formData=new FormData;for(let g=0;g<l.length;g++)this.formData.append("files",l[g]);return this.uploadedFiles.emit(this.formData),!1}deleteItem(){this.fileSrc=this.formData=null,this.uploadedFiles.emit(this.formData)}getLabel(){return this.fileSrc?this.fileLabelAfterSelect?this.fileLabelAfterSelect:"\u0641\u0627\u06cc\u0644 \u0634\u0645\u0627":"\u062c\u0647\u062a \u0622\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644 \u062b\u0628\u062a \u0631\u0627 \u0628\u0632\u0646\u06cc\u062f"}}return p.\u0275fac=function(l){return new(l||p)(c.Y36(Z.z),c.Y36(v.IN))},p.\u0275cmp=c.Xpm({type:p,selectors:[["file-uploader"]],viewQuery:function(l,g){if(1&l&&c.Gf(J,5),2&l){let r;c.iGM(r=c.CRH())&&(g.dummyClickRef=r.first)}},inputs:{fileType:"fileType",label:"label",fileLabelAfterSelect:"fileLabelAfterSelect",src:"src"},outputs:{uploadedFiles:"uploadedFiles"},decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["fileT",""],["loader",""],[4,"ngIf"],[1,"postBox"],["class","smCol1",4,"ngIf"],["color","tertiary",1,"file-upload"],[3,"click"],["name","add-circle"],["multiple","false","type","file",3,"accept","change"],["dummyClick",""],["class","sideNote","color","tertiary",4,"ngIf"],["color","tertiary",1,"sideNote"],[1,"smCol1"],[1,"foot"],["download","download","target","_blank",3,"href",4,"ngIf"],[1,"delete",3,"click"],["name","trash"],["download","download","target","_blank",3,"href"],[1,"loading"]],template:function(l,g){if(1&l&&(c.YNc(0,X,1,0,"div",0),c.YNc(1,G,3,2,"ng-template",null,1,c.W1O),c.YNc(3,K,2,0,"ng-template",null,2,c.W1O)),2&l){const r=c.MAs(2),h=c.MAs(4);c.Q6J("ngIf",g.loading)("ngIfThen",h)("ngIfElse",r)}},directives:[Y.O5,v.YG,v.gu,v.Q$,v.Nd,v.PM,v.yp,v.PQ],styles:["[_nghost-%COMP%]{font-size:inherit;display:block;margin:1em 0}.file-upload[_ngcontent-%COMP%]{width:100%;max-width:30em;margin:0 auto .2em;height:4em;--border-radius: 2em;display:block}.file-upload[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative;overflow:hidden;height:100%;width:100%}.file-upload[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:.9em}.file-upload[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.7em;margin-inline-end:.2em}.file-upload[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.postBox[_ngcontent-%COMP%]   .smCol1[_ngcontent-%COMP%]{height:3em;overflow:visible;padding:.3em .7em;margin:0 .35em 1em}.postBox[_ngcontent-%COMP%]   .smCol1[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:center;justify-content:center;align-items:center;height:100%;width:100%}.postBox[_ngcontent-%COMP%]   .smCol1[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{background-color:var(--ion-color-danger);cursor:pointer}.postBox[_ngcontent-%COMP%]   .smCol1[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.8em}.postBox[_ngcontent-%COMP%]   .smCol1[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{width:2em;height:2em;border-radius:50%;--webkit-border-radius: 50%;display:flex;align-content:center;justify-content:center;align-items:center;flex-wrap:nowrap;flex:none}.postBox[_ngcontent-%COMP%]   .smCol1[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;flex:1;width:100%;margin:.2em .5em 0}.postBox[_ngcontent-%COMP%]   .smCol1[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding:0}.loading[_ngcontent-%COMP%]{width:100%;max-width:30em;margin:0 auto 1em;height:4em;--border-radius: 2em;display:block}.loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{color:var(--ion-color-tertiary);margin:0 auto;display:block}.sideNote[_ngcontent-%COMP%]{font-size:.9em;text-align:center;display:block;width:100%;margin-bottom:1em}"]}),p})()},8530:(L,H,C)=>{C.d(H,{c:()=>M});var o=C(9808),c=C(5362),T=C(3877),v=C(9863);let M=(()=>{class S{}return S.\u0275fac=function(U){return new(U||S)},S.\u0275mod=v.oAB({type:S}),S.\u0275inj=v.cJS({imports:[[o.ez,c.Pc,T.QG]]}),S})()},3877:(L,H,C)=>{C.d(H,{ap:()=>m,QG:()=>l});var o=C(9863),c=C(655),T=C(2313),v=C(9808);const M=["wrapper"],S=["sourceImage"];function _(r,h){if(1&r){const e=o.EpF();o.TgZ(0,"img",4,5),o.NdJ("load",function(){return o.CHM(e),o.oxw().imageLoadedInView()})("mousedown",function(i){o.CHM(e);const n=o.oxw();return n.startMove(i,n.moveTypes.Drag)})("touchstart",function(i){o.CHM(e);const n=o.oxw();return n.startMove(i,n.moveTypes.Drag)}),o.qZA()}if(2&r){const e=o.oxw();o.Udp("visibility",e.imageVisible?"visible":"hidden")("transform",e.safeTransformStyle),o.ekj("ngx-ic-draggable",!e.disabled&&e.allowMoveImage),o.Q6J("src",e.safeImgDataUrl,o.LSH)}}function U(r,h){if(1&r){const e=o.EpF();o.ynx(0),o.TgZ(1,"span",9),o.NdJ("mousedown",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"topleft")})("touchstart",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"topleft")}),o._UZ(2,"span",10),o.qZA(),o.TgZ(3,"span",11),o._UZ(4,"span",10),o.qZA(),o.TgZ(5,"span",12),o.NdJ("mousedown",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"topright")})("touchstart",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"topright")}),o._UZ(6,"span",10),o.qZA(),o.TgZ(7,"span",13),o._UZ(8,"span",10),o.qZA(),o.TgZ(9,"span",14),o.NdJ("mousedown",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"bottomright")})("touchstart",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"bottomright")}),o._UZ(10,"span",10),o.qZA(),o.TgZ(11,"span",15),o._UZ(12,"span",10),o.qZA(),o.TgZ(13,"span",16),o.NdJ("mousedown",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"bottomleft")})("touchstart",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"bottomleft")}),o._UZ(14,"span",10),o.qZA(),o.TgZ(15,"span",17),o._UZ(16,"span",10),o.qZA(),o.TgZ(17,"span",18),o.NdJ("mousedown",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"top")})("touchstart",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"top")}),o.qZA(),o.TgZ(18,"span",19),o.NdJ("mousedown",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"right")})("touchstart",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"right")}),o.qZA(),o.TgZ(19,"span",20),o.NdJ("mousedown",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"bottom")})("touchstart",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"bottom")}),o.qZA(),o.TgZ(20,"span",21),o.NdJ("mousedown",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"left")})("touchstart",function(i){o.CHM(e);const n=o.oxw(2);return n.startMove(i,n.moveTypes.Resize,"left")}),o.qZA(),o.BQk()}}function D(r,h){if(1&r){const e=o.EpF();o.TgZ(0,"div",6),o.NdJ("keydown",function(i){return o.CHM(e),o.oxw().keyboardAccess(i)}),o.TgZ(1,"div",7),o.NdJ("mousedown",function(i){o.CHM(e);const n=o.oxw();return n.startMove(i,n.moveTypes.Move)})("touchstart",function(i){o.CHM(e);const n=o.oxw();return n.startMove(i,n.moveTypes.Move)}),o.qZA(),o.YNc(2,U,21,0,"ng-container",8),o.qZA()}if(2&r){const e=o.oxw();o.Udp("top",e.cropper.y1,"px")("left",e.cropper.x1,"px")("width",e.cropper.x2-e.cropper.x1,"px")("height",e.cropper.y2-e.cropper.y1,"px")("margin-left","center"===e.alignImage?e.marginLeft:null)("visibility",e.imageVisible?"visible":"hidden"),o.ekj("ngx-ic-round",e.roundCropper),o.xp6(2),o.Q6J("ngIf",!e.hideResizeSquares)}}class Q{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(h){Object.keys(h).filter(e=>e in this).forEach(e=>this[e]=h[e]),this.validateOptions()}setOptionsFromChanges(h){Object.keys(h).filter(e=>e in this).forEach(e=>this[e]=h[e].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var y=(()=>{return(r=y||(y={})).Drag="drag",r.Move="move",r.Resize="resize",r.Pinch="pinch",y;var r})();function W(r,h){return r/100*h}let V=(()=>{class r{crop(e,t,i,n){const a=this.getImagePosition(e,t,i,n),s=a.x2-a.x1,d=a.y2-a.y1,f=document.createElement("canvas");f.width=s,f.height=d;const u=f.getContext("2d");if(!u)return null;null!=n.backgroundColor&&(u.fillStyle=n.backgroundColor,u.fillRect(0,0,s,d));const x=(n.transform.scale||1)*(n.transform.flipH?-1:1),A=(n.transform.scale||1)*(n.transform.flipV?-1:1),{translateH:z,translateV:R}=this.getCanvasTranslate(e,t,n),w=t.transformed;u.setTransform(x,0,0,A,w.size.width/2+z,w.size.height/2+R),u.translate(-a.x1/x,-a.y1/A),u.rotate((n.transform.rotate||0)*Math.PI/180),u.drawImage(w.image,-w.size.width/2,-w.size.height/2);const b={width:s,height:d,imagePosition:a,cropperPosition:Object.assign({},i)};n.containWithinAspectRatio&&(b.offsetImagePosition=this.getOffsetImagePosition(e,t,i,n));const F=this.getResizeRatio(s,d,n);return 1!==F&&(b.width=Math.round(s*F),b.height=n.maintainAspectRatio?Math.round(b.width/n.aspectRatio):Math.round(d*F),function X(r,h,e){const t=r.width,i=r.height,n=t/(h=Math.round(h)),a=i/(e=Math.round(e)),s=Math.ceil(n/2),d=Math.ceil(a/2),f=r.getContext("2d");if(f){const u=f.getImageData(0,0,t,i),x=f.createImageData(h,e),A=u.data,z=x.data;for(let R=0;R<e;R++)for(let w=0;w<h;w++){const b=4*(w+R*h),F=R*a;let I=0,B=0,ie=0,ne=0,ae=0,oe=0,re=0;const le=Math.floor(w*n),he=Math.floor(R*a);let ee=Math.ceil((w+1)*n),te=Math.ceil((R+1)*a);ee=Math.min(ee,t),te=Math.min(te,i);for(let k=he;k<te;k++){const se=Math.abs(F-k)/d,pe=w*n,ge=se*se;for(let P=le;P<ee;P++){const ce=Math.abs(pe-P)/s,O=Math.sqrt(ge+ce*ce);if(O>=1)continue;I=2*O*O*O-3*O*O+1;const E=4*(P+k*t);re+=I*A[E+3],ie+=I,A[E+3]<255&&(I=I*A[E+3]/250),ne+=I*A[E],ae+=I*A[E+1],oe+=I*A[E+2],B+=I}}z[b]=ne/B,z[b+1]=ae/B,z[b+2]=oe/B,z[b+3]=re/ie}r.width=h,r.height=e,f.putImageData(x,0,0)}}(f,b.width,b.height)),b.base64=f.toDataURL("image/"+n.format,this.getQuality(n)),b}getCanvasTranslate(e,t,i){if("px"===i.transform.translateUnit){const n=this.getRatio(e,t);return{translateH:(i.transform.translateH||0)*n,translateV:(i.transform.translateV||0)*n}}return{translateH:i.transform.translateH?W(i.transform.translateH,t.transformed.size.width):0,translateV:i.transform.translateV?W(i.transform.translateV,t.transformed.size.height):0}}getRatio(e,t){return t.transformed.size.width/e.nativeElement.offsetWidth}getImagePosition(e,t,i,n){const a=this.getRatio(e,t),s={x1:Math.round(i.x1*a),y1:Math.round(i.y1*a),x2:Math.round(i.x2*a),y2:Math.round(i.y2*a)};return n.containWithinAspectRatio||(s.x1=Math.max(s.x1,0),s.y1=Math.max(s.y1,0),s.x2=Math.min(s.x2,t.transformed.size.width),s.y2=Math.min(s.y2,t.transformed.size.height)),s}getOffsetImagePosition(e,t,i,n){const d=t.transformed.size.width/e.nativeElement.offsetWidth;let f,u;(n.canvasRotation+t.exifTransform.rotate)%2?(f=(t.transformed.size.width-t.original.size.height)/2,u=(t.transformed.size.height-t.original.size.width)/2):(f=(t.transformed.size.width-t.original.size.width)/2,u=(t.transformed.size.height-t.original.size.height)/2);const x={x1:Math.round(i.x1*d)-f,y1:Math.round(i.y1*d)-u,x2:Math.round(i.x2*d)-f,y2:Math.round(i.y2*d)-u};return n.containWithinAspectRatio||(x.x1=Math.max(x.x1,0),x.y1=Math.max(x.y1,0),x.x2=Math.min(x.x2,t.transformed.size.width),x.y2=Math.min(x.y2,t.transformed.size.height)),x}getResizeRatio(e,t,i){const n=i.resizeToWidth/e,a=i.resizeToHeight/t,s=new Array;i.resizeToWidth>0&&s.push(n),i.resizeToHeight>0&&s.push(a);const d=0===s.length?1:Math.min(...s);return d>1&&!i.onlyScaleDown?d:Math.min(d,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),q=(()=>{class r{resetCropperPosition(e,t,i){if(!(null==e?void 0:e.nativeElement))return;const n=e.nativeElement;if(i.cropperStaticHeight&&i.cropperStaticWidth)t.x1=0,t.x2=n.offsetWidth>i.cropperStaticWidth?i.cropperStaticWidth:n.offsetWidth,t.y1=0,t.y2=n.offsetHeight>i.cropperStaticHeight?i.cropperStaticHeight:n.offsetHeight;else{const a=Math.min(i.cropperScaledMaxWidth,n.offsetWidth),s=Math.min(i.cropperScaledMaxHeight,n.offsetHeight);if(i.maintainAspectRatio)if(n.offsetWidth/i.aspectRatio<n.offsetHeight){t.x1=0,t.x2=a;const d=a/i.aspectRatio;t.y1=(n.offsetHeight-d)/2,t.y2=t.y1+d}else{t.y1=0,t.y2=s;const d=s*i.aspectRatio;t.x1=(n.offsetWidth-d)/2,t.x2=t.x1+d}else t.x1=0,t.x2=a,t.y1=0,t.y2=s}}move(e,t,i){const n=this.getClientX(e)-t.clientX,a=this.getClientY(e)-t.clientY;i.x1=t.x1+n,i.y1=t.y1+a,i.x2=t.x2+n,i.y2=t.y2+a}resize(e,t,i,n,a){const s=this.getClientX(e)-t.clientX,d=this.getClientY(e)-t.clientY;switch(t.position){case"left":i.x1=Math.min(Math.max(t.x1+s,i.x2-a.cropperScaledMaxWidth),i.x2-a.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(t.x1+s,i.x2-a.cropperScaledMaxWidth),i.x2-a.cropperScaledMinWidth),i.y1=Math.min(Math.max(t.y1+d,i.y2-a.cropperScaledMaxHeight),i.y2-a.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(t.y1+d,i.y2-a.cropperScaledMaxHeight),i.y2-a.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(t.x2+s,i.x1+a.cropperScaledMaxWidth),i.x1+a.cropperScaledMinWidth),i.y1=Math.min(Math.max(t.y1+d,i.y2-a.cropperScaledMaxHeight),i.y2-a.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(t.x2+s,i.x1+a.cropperScaledMaxWidth),i.x1+a.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(t.x2+s,i.x1+a.cropperScaledMaxWidth),i.x1+a.cropperScaledMinWidth),i.y2=Math.max(Math.min(t.y2+d,i.y1+a.cropperScaledMaxHeight),i.y1+a.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(t.y2+d,i.y1+a.cropperScaledMaxHeight),i.y1+a.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(t.x1+s,i.x2-a.cropperScaledMaxWidth),i.x2-a.cropperScaledMinWidth),i.y2=Math.max(Math.min(t.y2+d,i.y1+a.cropperScaledMaxHeight),i.y1+a.cropperScaledMinHeight);break;case"center":const f=e.scale,u=Math.min(Math.max(a.cropperScaledMinWidth,Math.abs(t.x2-t.x1)*f),a.cropperScaledMaxWidth),x=Math.min(Math.max(a.cropperScaledMinHeight,Math.abs(t.y2-t.y1)*f),a.cropperScaledMaxHeight);i.x1=t.clientX-u/2,i.x2=t.clientX+u/2,i.y1=t.clientY-x/2,i.y2=t.clientY+x/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>n.width&&(i.x1-=i.x2-n.width,i.x2=n.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>n.height&&(i.y1-=i.y2-n.height,i.y2=n.height)}a.maintainAspectRatio&&this.checkAspectRatio(t.position,i,n,a)}checkAspectRatio(e,t,i,n){let a=0,s=0;switch(e){case"top":t.x2=t.x1+(t.y2-t.y1)*n.aspectRatio,a=Math.max(t.x2-i.width,0),s=Math.max(0-t.y1,0),(a>0||s>0)&&(t.x2-=s*n.aspectRatio>a?s*n.aspectRatio:a,t.y1+=s*n.aspectRatio>a?s:a/n.aspectRatio);break;case"bottom":t.x2=t.x1+(t.y2-t.y1)*n.aspectRatio,a=Math.max(t.x2-i.width,0),s=Math.max(t.y2-i.height,0),(a>0||s>0)&&(t.x2-=s*n.aspectRatio>a?s*n.aspectRatio:a,t.y2-=s*n.aspectRatio>a?s:a/n.aspectRatio);break;case"topleft":t.y1=t.y2-(t.x2-t.x1)/n.aspectRatio,a=Math.max(0-t.x1,0),s=Math.max(0-t.y1,0),(a>0||s>0)&&(t.x1+=s*n.aspectRatio>a?s*n.aspectRatio:a,t.y1+=s*n.aspectRatio>a?s:a/n.aspectRatio);break;case"topright":t.y1=t.y2-(t.x2-t.x1)/n.aspectRatio,a=Math.max(t.x2-i.width,0),s=Math.max(0-t.y1,0),(a>0||s>0)&&(t.x2-=s*n.aspectRatio>a?s*n.aspectRatio:a,t.y1+=s*n.aspectRatio>a?s:a/n.aspectRatio);break;case"right":case"bottomright":t.y2=t.y1+(t.x2-t.x1)/n.aspectRatio,a=Math.max(t.x2-i.width,0),s=Math.max(t.y2-i.height,0),(a>0||s>0)&&(t.x2-=s*n.aspectRatio>a?s*n.aspectRatio:a,t.y2-=s*n.aspectRatio>a?s:a/n.aspectRatio);break;case"left":case"bottomleft":t.y2=t.y1+(t.x2-t.x1)/n.aspectRatio,a=Math.max(0-t.x1,0),s=Math.max(t.y2-i.height,0),(a>0||s>0)&&(t.x1+=s*n.aspectRatio>a?s*n.aspectRatio:a,t.y2-=s*n.aspectRatio>a?s:a/n.aspectRatio);break;case"center":t.x2=t.x1+(t.y2-t.y1)*n.aspectRatio,t.y2=t.y1+(t.x2-t.x1)/n.aspectRatio;const d=Math.max(0-t.x1,0),f=Math.max(t.x2-i.width,0),u=Math.max(t.y2-i.height,0),x=Math.max(0-t.y1,0);(d>0||f>0||u>0||x>0)&&(t.x1+=u*n.aspectRatio>d?u*n.aspectRatio:d,t.x2-=x*n.aspectRatio>f?x*n.aspectRatio:f,t.y1+=x*n.aspectRatio>f?x:f/n.aspectRatio,t.y2-=u*n.aspectRatio>d?u:d/n.aspectRatio)}}getClientX(e){var t;return(null===(t=e.touches)||void 0===t?void 0:t[0].clientX)||e.clientX||0}getClientY(e){var t;return(null===(t=e.touches)||void 0===t?void 0:t[0].clientY)||e.clientY||0}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();let p=(()=>{class r{constructor(){this.autoRotateSupported=function N(){return new Promise(r=>{const h=new Image;h.onload=()=>{r(1===h.width&&2===h.height)},h.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(e,t){return new Promise((i,n)=>{const a=new FileReader;a.onload=s=>{this.loadImage(s.target.result,e.type,t).then(i).catch(n)},a.readAsDataURL(e)})}loadImage(e,t,i){return this.isValidImageType(t)?this.loadBase64Image(e,i):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(e)}loadImageFromURL(e,t){return new Promise((i,n)=>{const a=new Image;a.onerror=()=>n,a.onload=()=>{const s=document.createElement("canvas"),d=s.getContext("2d");s.width=a.width,s.height=a.height,null==d||d.drawImage(a,0,0),this.loadBase64Image(s.toDataURL(),t).then(i)},a.crossOrigin="anonymous",a.src=e})}loadBase64Image(e,t){return new Promise((i,n)=>{const a=new Image;a.onload=()=>i({originalImage:a,originalBase64:e}),a.onerror=n,a.src=e}).then(i=>this.transformImageBase64(i,t))}transformImageBase64(e,t){return(0,c.mG)(this,void 0,void 0,function*(){const i=yield this.autoRotateSupported,n=yield function G(r){switch("string"==typeof r&&(r=function K(r){const h=new DataView(function $(r){r=r.replace(/^data\:([^\;]+)\;base64,/gim,"");const h=atob(r),e=h.length,t=new Uint8Array(e);for(let i=0;i<e;i++)t[i]=h.charCodeAt(i);return t.buffer}(r));if(65496!==h.getUint16(0,!1))return-2;const e=h.byteLength;let t=2;for(;t<e;){if(h.getUint16(t+2,!1)<=8)return-1;const i=h.getUint16(t,!1);if(t+=2,65505==i){if(1165519206!==h.getUint32(t+=2,!1))return-1;const n=18761==h.getUint16(t+=6,!1);t+=h.getUint32(t+4,n);const a=h.getUint16(t,n);t+=2;for(let s=0;s<a;s++)if(274==h.getUint16(t+12*s,n))return h.getUint16(t+12*s+8,n)}else{if(65280!=(65280&i))break;t+=h.getUint16(t,!1)}}return-1}(r)),r){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(i?-1:e.originalBase64);return e.originalImage&&e.originalImage.complete?this.transformLoadedImage({original:{base64:e.originalBase64,image:e.originalImage,size:{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:n},t):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(e,t){return(0,c.mG)(this,void 0,void 0,function*(){const i=t.canvasRotation+e.exifTransform.rotate,n={width:e.original.image.naturalWidth,height:e.original.image.naturalHeight};if(0===i&&!e.exifTransform.flip&&!t.containWithinAspectRatio)return{original:{base64:e.original.base64,image:e.original.image,size:Object.assign({},n)},transformed:{base64:e.original.base64,image:e.original.image,size:Object.assign({},n)},exifTransform:e.exifTransform};const a=this.getTransformedSize(n,e.exifTransform,t),s=document.createElement("canvas");s.width=a.width,s.height=a.height;const d=s.getContext("2d");null==d||d.setTransform(e.exifTransform.flip?-1:1,0,0,1,s.width/2,s.height/2),null==d||d.rotate(Math.PI*(i/2)),null==d||d.drawImage(e.original.image,-n.width/2,-n.height/2);const f=s.toDataURL(),u=yield this.loadImageFromBase64(f);return{original:{base64:e.original.base64,image:e.original.image,size:Object.assign({},n)},transformed:{base64:f,image:u,size:{width:u.width,height:u.height}},exifTransform:e.exifTransform}})}loadImageFromBase64(e){return new Promise((t,i)=>{const n=new Image;n.onload=()=>t(n),n.onerror=i,n.src=e})}getTransformedSize(e,t,i){const n=i.canvasRotation+t.rotate;if(i.containWithinAspectRatio){if(n%2){const s=e.height/i.aspectRatio;return{width:Math.max(e.height,e.width*i.aspectRatio),height:Math.max(e.width,s)}}{const s=e.width/i.aspectRatio;return{width:Math.max(e.width,e.height*i.aspectRatio),height:Math.max(e.height,s)}}}return n%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),m=(()=>{class r{constructor(e,t,i,n,a){this.cropService=e,this.cropperPositionService=t,this.loadImageService=i,this.sanitizer=n,this.cd=a,this.Hammer=(null==window?void 0:window.Hammer)||null,this.settings=new Q,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=y,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new o.vpe,this.startCropImage=new o.vpe,this.imageLoaded=new o.vpe,this.cropperReady=new o.vpe,this.loadImageFailed=new o.vpe,this.transformChange=new o.vpe,this.reset()}ngOnChanges(e){var t;this.onChangesUpdateSettings(e),this.onChangesInputImage(e),(null===(t=this.loadedImage)||void 0===t?void 0:t.original.image.complete)&&(e.containWithinAspectRatio||e.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i)),(e.cropper||e.maintainAspectRatio||e.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(e.maintainAspectRatio||e.aspectRatio)?this.resetCropperPosition():e.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()),this.cd.markForCheck()),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck())}onChangesUpdateSettings(e){this.settings.setOptionsFromChanges(e),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var e,t,i;return(null===(i=null===(t=null===(e=this.imageChangedEvent)||void 0===e?void 0:e.target)||void 0===t?void 0:t.files)||void 0===i?void 0:i.length)>0}setCssTransform(){var e;const t=(null===(e=this.transform)||void 0===e?void 0:e.translateUnit)||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${t}, ${this.transform.translateV||0}${t}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(e){this.loadImageService.loadImageFile(e,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadBase64Image(e){this.loadImageService.loadBase64Image(e,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}loadImageFromURL(e){this.loadImageService.loadImageFromURL(e,this.settings).then(t=>this.setLoadedImage(t)).catch(t=>this.loadImageError(t))}setLoadedImage(e){this.loadedImage=e,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.base64),this.cd.markForCheck()}loadImageError(e){console.error(e),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var e,t;return(null===(t=null===(e=this.sourceImage)||void 0===e?void 0:e.nativeElement)||void 0===t?void 0:t.offsetWidth)>0}onResize(){!this.loadedImage||(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}activatePinchGesture(){if(this.Hammer){const e=new this.Hammer(this.wrapper.nativeElement);e.get("pinch").set({enable:!0}),e.on("pinchmove",this.onPinch.bind(this)),e.on("pinchend",this.pinchStop.bind(this)),e.on("pinchstart",this.startPinch.bind(this))}else(0,o.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const e=this.sourceImage.nativeElement;(this.maxSize.width!==e.offsetWidth||this.maxSize.height!==e.offsetHeight)&&(this.cropper.x1=this.cropper.x1*e.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*e.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*e.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*e.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}changeKeyboardStepSize(e){const t=+e.key;t>=1&&t<=9&&(this.settings.stepSize=t)}keyboardMoveCropper(e){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key))return;const i=e.shiftKey?y.Resize:y.Move,n=e.altKey?function Y(r){switch(r){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(e.key):function Z(r){switch(r){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(e.key),a=function J(r,h){switch(r){case"ArrowUp":return{clientX:0,clientY:-1*h};case"ArrowRight":return{clientX:h,clientY:0};case"ArrowDown":return{clientX:0,clientY:h};default:return{clientX:-1*h,clientY:0}}}(e.key,this.settings.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},i,n),this.moveImg(a),this.moveStop()}startMove(e,t,i=null){var n,a;this.disabled||(null===(n=this.moveStart)||void 0===n?void 0:n.active)&&(null===(a=this.moveStart)||void 0===a?void 0:a.type)===y.Pinch||t===y.Drag&&!this.allowMoveImage||(e.preventDefault&&e.preventDefault(),this.moveStart=Object.assign({active:!0,type:t,position:i,transform:Object.assign({},this.transform),clientX:this.cropperPositionService.getClientX(e),clientY:this.cropperPositionService.getClientY(e)},this.cropper))}startPinch(e){!this.safeImgDataUrl||(e.preventDefault&&e.preventDefault(),this.moveStart=Object.assign({active:!0,type:y.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(e){var t,i;if(this.moveStart.active){if(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===y.Move)this.cropperPositionService.move(e,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===y.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===y.Drag){const n=this.cropperPositionService.getClientX(e)-this.moveStart.clientX,a=this.cropperPositionService.getClientY(e)-this.moveStart.clientY;this.transform=Object.assign(Object.assign({},this.transform),{translateH:((null===(t=this.moveStart.transform)||void 0===t?void 0:t.translateH)||0)+n,translateV:((null===(i=this.moveStart.transform)||void 0===i?void 0:i.translateV)||0)+a}),this.setCssTransform()}this.cd.detectChanges()}}onPinch(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===y.Pinch&&(this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const e=this.sourceImage.nativeElement;this.maxSize.width=e.offsetWidth,this.maxSize.height=e.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var e,t;(null===(t=null===(e=this.loadedImage)||void 0===e?void 0:e.transformed)||void 0===t?void 0:t.image)?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var e,t;if(null===(t=null===(e=this.loadedImage)||void 0===e?void 0:e.transformed)||void 0===t?void 0:t.image){const i=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/i:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/i:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(e=!1){this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){var e;this.moveStart.active&&(this.moveStart.active=!1,(null===(e=this.moveStart)||void 0===e?void 0:e.type)===y.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var e,t;if(null!=(null===(t=null===(e=this.loadedImage)||void 0===e?void 0:e.transformed)||void 0===t?void 0:t.image)){this.startCropImage.emit();const i=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=i&&this.imageCropped.emit(i),i}return null}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(V),o.Y36(q),o.Y36(p),o.Y36(T.H7),o.Y36(o.sBO))},r.\u0275cmp=o.Xpm({type:r,selectors:[["image-cropper"]],viewQuery:function(e,t){if(1&e&&(o.Gf(M,7),o.Gf(S,5)),2&e){let i;o.iGM(i=o.CRH())&&(t.wrapper=i.first),o.iGM(i=o.CRH())&&(t.sourceImage=i.first)}},hostVars:4,hostBindings:function(e,t){1&e&&o.NdJ("resize",function(){return t.onResize()},!1,o.Jf7)("mousemove",function(n){return t.moveImg(n)},!1,o.evT)("touchmove",function(n){return t.moveImg(n)},!1,o.evT)("mouseup",function(){return t.moveStop()},!1,o.evT)("touchend",function(){return t.moveStop()},!1,o.evT),2&e&&(o.Udp("text-align",t.alignImage),o.ekj("disabled",t.disabled))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[o.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(e,t){1&e&&(o.TgZ(0,"div",null,0),o.YNc(2,_,2,7,"img",1),o._UZ(3,"div",2),o.YNc(4,D,3,15,"div",3),o.qZA()),2&e&&(o.Udp("background",t.imageVisible&&t.backgroundColor),o.xp6(2),o.Q6J("ngIf",t.safeImgDataUrl),o.xp6(1),o.Udp("width",t.maxSize.width,"px")("height",t.maxSize.height,"px")("margin-left","center"===t.alignImage?t.marginLeft:null),o.xp6(1),o.Q6J("ngIf",t.imageVisible))},directives:[v.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),r})(),l=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[v.ez]]}),r})()}}]);