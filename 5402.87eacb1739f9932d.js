"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5402],{5402:(M,s,t)=>{t.r(s),t.d(s,{ProfilePageModule:()=>y});var a=t(9808),n=t(4182),l=t(5362),f=t(4030);class p{}var u=t(9863),m=t(6475),d=t(3071),c=t(1454),g=t(4879),h=t(713);function P(e,i){1&e&&(u.TgZ(0,"div",13),u._uU(1," \u0644\u0637\u0641\u0627 \u06a9\u062f \u0645\u0644\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f. "),u.qZA())}function C(e,i){1&e&&(u.TgZ(0,"div",13),u._uU(1," \u06a9\u062f \u0645\u0644\u06cc \u0645\u0639\u062a\u0628\u0631 \u0646\u0645\u06cc \u0628\u0627\u0634\u062f "),u.qZA())}function v(e,i){if(1&e&&(u.ynx(0),u.YNc(1,P,2,0,"div",8),u.YNc(2,C,2,0,"div",8),u.BQk()),2&e){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.formGroup.controls.CodeMeli.errors?null:o.formGroup.controls.CodeMeli.errors.required),u.xp6(1),u.Q6J("ngIf",null==o.formGroup.controls.CodeMeli.errors?null:o.formGroup.controls.CodeMeli.errors.pattern)}}function A(e,i){1&e&&(u.TgZ(0,"div",13),u._uU(1," \u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f. "),u.qZA())}function Z(e,i){1&e&&(u.TgZ(0,"div",13),u._uU(1," \u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f. "),u.qZA())}function F(e,i){1&e&&(u.TgZ(0,"div",13),u._uU(1," \u0644\u0637\u0641\u0627 \u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646 \u0647\u0645\u0631\u0627\u0647 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f. "),u.qZA())}function T(e,i){1&e&&(u.TgZ(0,"div",13),u._uU(1," \u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647 \u0645\u0639\u062a\u0628\u0631 \u0646\u0645\u06cc \u0628\u0627\u0634\u062f. "),u.qZA())}function U(e,i){if(1&e&&(u.ynx(0),u.YNc(1,F,2,0,"div",8),u.YNc(2,T,2,0,"div",8),u.BQk()),2&e){const o=u.oxw();u.xp6(1),u.Q6J("ngIf",null==o.formGroup.controls.Phone.errors?null:o.formGroup.controls.Phone.errors.required),u.xp6(1),u.Q6J("ngIf",null==o.formGroup.controls.Phone.errors?null:o.formGroup.controls.Phone.errors.pattern)}}const G=[{path:"",component:(()=>{class e{constructor(o,r){this.app=o,this.user=r,this.model=new p,this.formGroup=new n.cw({Name:new n.NI(void 0,n.kI.required),Family:new n.NI(void 0,n.kI.required),Phone:new n.NI(void 0,[n.kI.required,n.kI.pattern("09(1[0-9]|3[1-9]|2[1-9])-?[0-9]{3}-?[0-9]{4}")]),CodeMeli:new n.NI(void 0,[n.kI.required])}),this.showErrors=!1}ngOnInit(){this.formGroup.patchValue(this.user.user),this.sub=this.user.change.subscribe(()=>{this.formGroup.patchValue(this.user.user)})}ngOnDestroy(){this.sub.unsubscribe()}updateProfileUser(){if(!this.formGroup.valid)return this.showErrors=!0;for(const o in this.formGroup.value)this.formGroup.value[o]&&(this.model[o]=this.formGroup.value[o]);console.log(this.model),this.app.post("ApiAccount/UpdateProfileUser",this.model).then(o=>{if(console.log(o),o.Status){this.app.presentToast("\u0639\u0645\u0644\u06cc\u0627\u062a \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f","success");const r=this.user.user;r.Family=this.model.Family,r.CodeMeli=this.model.CodeMeli,r.Name=this.model.Name,r.Phone=this.model.Phone,this.user.setUser(r)}else this.app.presentToast(o.Message?o.Message:"\u0639\u0645\u0644\u06cc\u0627\u062a \u0646\u0627\u0645\u0648\u0641\u0642","danger")})}err(o){return o.touched&&o.dirty||this.showErrors}reqErr(o){var r;return(null===(r=o.errors)||void 0===r?void 0:r.required)&&this.err(o)}}return e.\u0275fac=function(o){return new(o||e)(u.Y36(m.z),u.Y36(d.K))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-profile"]],decls:28,vars:5,consts:[["title","\u062a\u06a9\u0645\u06cc\u0644 \u0627\u0637\u0644\u0627\u0639\u0627\u062a","defaultHref","home"],[1,"submitBox"],[3,"formGroup","submit"],["lines","none",1,"input"],["position","floating"],["formControlName","CodeMeli","placeholder","\u0634\u0645\u0627\u0631\u0647 \u0645\u0644\u06cc","inputmode","numeric"],[4,"ngIf"],["formControlName","Name","placeholder","\u0646\u0627\u0645","inputmode","text"],["class","error",4,"ngIf"],["formControlName","Family","placeholder","\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc","inputmode","text"],["formControlName","Phone","placeholder","\u062a\u0644\u0641\u0646 \u0647\u0645\u0631\u0627\u0647","inputmode","tel","readonly","true"],["type","submit","color","primary",1,"med"],["load",""],[1,"error"]],template:function(o,r){1&o&&(u._UZ(0,"app-shared-back",0),u.TgZ(1,"app-wrapper")(2,"ion-row",1)(3,"form",2),u.NdJ("submit",function(){return r.updateProfileUser()}),u.TgZ(4,"ion-item",3)(5,"ion-label",4),u._uU(6,"\u0634\u0645\u0627\u0631\u0647 \u0645\u0644\u06cc"),u.qZA(),u._UZ(7,"ion-input",5),u.qZA(),u.YNc(8,v,3,2,"ng-container",6),u.TgZ(9,"ion-item",3)(10,"ion-label",4),u._uU(11,"\u0646\u0627\u0645"),u.qZA(),u._UZ(12,"ion-input",7),u.qZA(),u.YNc(13,A,2,0,"div",8),u.TgZ(14,"ion-item",3)(15,"ion-label",4),u._uU(16,"\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"),u.qZA(),u._UZ(17,"ion-input",9),u.qZA(),u.YNc(18,Z,2,0,"div",8),u.TgZ(19,"ion-item",3)(20,"ion-label",4),u._uU(21,"\u062a\u0644\u0641\u0646 \u0647\u0645\u0631\u0627\u0647"),u.qZA(),u._UZ(22,"ion-input",10),u.qZA(),u.YNc(23,U,3,2,"ng-container",6),u.TgZ(24,"area-spinner")(25,"ion-button",11,12),u._uU(27,"\u062b\u0628\u062a \u0646\u0647\u0627\u06cc\u06cc"),u.qZA()()()()()),2&o&&(u.xp6(3),u.Q6J("formGroup",r.formGroup),u.xp6(5),u.Q6J("ngIf",r.err(r.formGroup.controls.CodeMeli)),u.xp6(5),u.Q6J("ngIf",r.reqErr(r.formGroup.controls.Name)),u.xp6(5),u.Q6J("ngIf",r.reqErr(r.formGroup.controls.Family)),u.xp6(5),u.Q6J("ngIf",r.err(r.formGroup.controls.Phone)))},directives:[c.A,g.A,l.Nd,n._Y,n.JL,n.sg,l.Ie,l.Q$,l.pK,l.j9,n.JJ,n.u,a.O5,h.f,l.YG],styles:[""]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[f.Bz.forChild(G)],f.Bz]}),e})();var I=t(4466);let y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[a.ez,n.u5,l.Pc,N,I.m,n.UX]]}),e})()}}]);