"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6250],{6250:(O,g,r)=>{r.r(g),r.d(g,{ContactPageModule:()=>q});var Z=r(4466),c=r(9808),i=r(5362),l=r(4030),C=r(655),t=r(9863),v=r(6475);let p=(()=>{class o{constructor(e){this.ap=e}getCritics(e,u){return this.ap.post(`ApiCritics/GetCritics?UserId=${e}&Page=${u}`,null)}getCriticsRole(e){return this.ap.post(`ApiCritics/GetCriticsRole?UserId=${e}`,null)}critics(e){return this.ap.post("ApiCritics/Critics",e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(v.z))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var d=r(3071),T=r(3686),m=r(4879),y=r(8961);function F(o,n){if(1&o&&(t.TgZ(0,"ion-card")(1,"div",6)(2,"div",7),t._UZ(3,"app-api-img",8),t.qZA(),t.TgZ(4,"div",9)(5,"ion-label"),t._uU(6),t.qZA(),t.TgZ(7,"ion-label"),t._uU(8),t.qZA(),t.TgZ(9,"ion-text"),t._uU(10),t.qZA()()(),t.TgZ(11,"div",10)(12,"ion-label"),t._uU(13),t.qZA(),t.TgZ(14,"ion-label",11),t._uU(15),t.qZA(),t.TgZ(16,"ion-label",11),t._uU(17),t.qZA()()()),2&o){const e=n.$implicit;t.xp6(3),t.Q6J("src",e.FileAttach),t.xp6(3),t.hij("\u06a9\u062f \u067e\u06cc\u06af\u06cc\u0631\u06cc: ",e.Code,""),t.xp6(2),t.hij("\u0645\u0648\u0636\u0648\u0639: ",e.Catgory,""),t.xp6(2),t.hij(" \u062a\u0648\u0636\u06cc\u062d\u0627\u062a: ",e.Decription," "),t.xp6(3),t.hij("\u062a\u0627\u0631\u06cc\u062e: ",e.Date,""),t.xp6(2),t.Oqu(e.SumerryResponse?e.SumerryResponse:e.Response),t.xp6(2),t.hij("\u0627\u0645\u062a\u06cc\u0627\u0632: ",e.Rating," \u0627\u0632 5")}}let U=(()=>{class o{constructor(e,u){this.bs=e,this.user=u,this.loadMoreData={page:1,finishedData:!1},this.fetchData=()=>(0,C.mG)(this,void 0,void 0,function*(){return this.bs.getCritics(this.user.getStateId,this.loadMoreData.page).then(s=>(1===this.loadMoreData.page&&(this.items=[]),this.items.push(...s),console.log(s),Boolean(s.length)))})}ngOnInit(){this.fetchData()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p),t.Y36(d.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-contact"]],decls:6,vars:4,consts:[["title","\u0634\u0647\u0631\u0648\u0646\u062f \u0622\u0646\u0644\u0627\u06cc\u0646 \u0628\u0647\u0627\u0631\u0633\u062a\u0627\u0646"],[3,"isNoContent","fetchData","loadMoreData"],[1,"postBox"],[4,"ngFor","ngForOf"],["color","primary","routerLink","create",1,"fixed","round"],["name","add-circle-outline"],[1,"middle"],[1,"img"],[3,"src"],[1,"textCon"],[1,"bottom"],[1,"green"]],template:function(e,u){1&e&&(t._UZ(0,"app-shared-menu",0),t.TgZ(1,"app-wrapper",1)(2,"ion-row",2),t.YNc(3,F,18,7,"ion-card",3),t.qZA()(),t.TgZ(4,"ion-button",4),t._UZ(5,"ion-icon",5),t.qZA()),2&e&&(t.xp6(1),t.Q6J("isNoContent",!(null!=u.items&&u.items.length))("fetchData",u.fetchData)("loadMoreData",u.loadMoreData),t.xp6(2),t.Q6J("ngForOf",u.items))},directives:[T.M,m.A,i.Nd,c.sg,i.PM,y.m,i.Q$,i.yW,i.YG,i.YI,l.rH,i.gu],styles:[""]}),o})();var a=r(4182);class D{}var A=r(1454),I=r(713);function b(o,n){1&o&&(t.TgZ(0,"div",12),t._uU(1," \u0644\u0637\u0641\u0627 \u0645\u0648\u0636\u0648\u0639 \u067e\u06cc\u0627\u0645 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f. "),t.qZA())}function N(o,n){1&o&&(t.TgZ(0,"div",12),t._uU(1," \u0644\u0637\u0641\u0627 \u0645\u062a\u0646 \u067e\u06cc\u0627\u0645 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f. "),t.qZA())}let G=(()=>{class o{constructor(e,u,s,Q){var h,f;this.router=e,this.bs=u,this.user=s,this.app=Q,this.model=new D,this.showErrors=!1,this.info=null===(f=null===(h=this.router.getCurrentNavigation())||void 0===h?void 0:h.extras)||void 0===f?void 0:f.state,this.info?this.model.RoleId=this.info.id:this.router.navigate(["contact/create"])}ngOnInit(){this.bindFormGroup()}bindFormGroup(){this.formGroup=new a.cw({Description:new a.NI(void 0,a.kI.required),Title:new a.NI(void 0,a.kI.required)})}saveForm(){if(!this.formGroup.valid)return this.showErrors=!0;for(const e in this.formGroup.value)this.formGroup.value[e]&&(this.model[e]=this.formGroup.value[e]);this.model.UserSenderId=this.user.getUserId,console.log(this.model),this.bs.critics(this.model).then(e=>{console.log(e),e.Status?this.app.presentToast("\u0639\u0645\u0644\u06cc\u0627\u062a \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f","success"):this.app.presentToast("\u0639\u0645\u0644\u06cc\u0627\u062a \u0646\u0627\u0645\u0648\u0641\u0642","danger")})}reqErr(e){var u;return(null===(u=e.errors)||void 0===u?void 0:u.required)&&(e.touched&&e.dirty||this.showErrors)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.F0),t.Y36(p),t.Y36(d.K),t.Y36(v.z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add"]],decls:20,vars:4,consts:[["title","\u0627\u0631\u0633\u0627\u0644 \u0627\u0646\u062a\u0642\u0627\u062f \u0648 \u067e\u06cc\u0634\u0646\u0647\u0627\u062f","defaultHref","home/CitizenVoice/create"],[1,"submitBox"],[3,"formGroup","submit"],[1,"topLabel"],["lines","none",1,"input"],["position","floating"],["formControlName","Title","inputmode","text"],["class","error",4,"ngIf"],["lines","none",1,"textarea"],["formControlName","Description","placeholder","\u0645\u062a\u0646 \u0634\u06a9\u0627\u06cc\u062a...","rows","5"],["type","submit","color","primary",1,"med"],["load",""],[1,"error"]],template:function(e,u){1&e&&(t._UZ(0,"app-shared-back",0),t.TgZ(1,"app-wrapper")(2,"ion-row",1)(3,"form",2),t.NdJ("submit",function(){return u.saveForm()}),t.TgZ(4,"ion-label",3),t._uU(5),t.qZA(),t.TgZ(6,"ion-item",4)(7,"ion-label",5),t._uU(8," \u0645\u0648\u0636\u0648\u0639 "),t.qZA(),t._UZ(9,"ion-input",6),t.qZA(),t.YNc(10,b,2,0,"div",7),t.TgZ(11,"ion-item",8)(12,"ion-label",5),t._uU(13,"\u062a\u0648\u0636\u06cc\u062d\u0627\u062a"),t.qZA(),t._UZ(14,"ion-textarea",9),t.qZA(),t.YNc(15,N,2,0,"div",7),t.TgZ(16,"area-spinner")(17,"ion-button",10,11),t._uU(19,"\u062b\u0628\u062a \u0648 \u0627\u0631\u0633\u0627\u0644"),t.qZA()()()()()),2&e&&(t.xp6(3),t.Q6J("formGroup",u.formGroup),t.xp6(2),t.hij("\u0627\u0631\u0633\u0627\u0644 \u0628\u0647: ",null==u.info?null:u.info.name,""),t.xp6(5),t.Q6J("ngIf",u.reqErr(u.formGroup.controls.Title)),t.xp6(5),t.Q6J("ngIf",u.reqErr(u.formGroup.controls.Description)))},directives:[A.A,m.A,i.Nd,a._Y,a.JL,a.sg,i.Q$,i.Ie,i.pK,i.j9,a.JJ,a.u,c.O5,i.g2,I.f,i.YG],styles:[".topLabel[_ngcontent-%COMP%]{font-size:.85em;text-align:center;display:block;width:100%;margin-top:2em}"]}),o})();function Y(o,n){if(1&o&&(t.TgZ(0,"ion-label"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.Name)}}const M=function(o,n){return{id:o,name:n}};function x(o,n){if(1&o&&(t.TgZ(0,"ion-item",4),t.YNc(1,Y,2,1,"ion-label",5),t.qZA()),2&o){const e=n.$implicit;t.Q6J("state",t.WLB(2,M,e.Id,e.Name)),t.xp6(1),t.Q6J("ngIf",e.Name)}}const J=[{path:"",component:U},{path:"create",children:[{path:"",component:(()=>{class o{constructor(e,u){this.bs=e,this.user=u,this.fetchData=()=>(0,C.mG)(this,void 0,void 0,function*(){return this.bs.getCriticsRole(this.user.getUserId).then(s=>{this.category=s,console.log(s,this.category)}).catch(s=>{console.log(s)})})}ngOnInit(){this.fetchData()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p),t.Y36(d.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create"]],decls:4,vars:3,consts:[["title","\u0634\u0647\u0631\u0648\u0646\u062f \u0622\u0646\u0644\u0627\u06cc\u0646 \u0628\u0647\u0627\u0631\u0633\u062a\u0627\u0646","defaultHref","home/CitizenVoice"],[3,"isNoContent","fetchData"],[1,"fakeAccordion",2,"margin-top","1em"],["routerLink","add",3,"state",4,"ngFor","ngForOf"],["routerLink","add",3,"state"],[4,"ngIf"]],template:function(e,u){1&e&&(t._UZ(0,"app-shared-back",0),t.TgZ(1,"app-wrapper",1)(2,"div",2),t.YNc(3,x,2,5,"ion-item",3),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("isNoContent",!(null!=u.category&&u.category.length))("fetchData",u.fetchData),t.xp6(2),t.Q6J("ngForOf",u.category))},directives:[A.A,m.A,c.sg,i.Ie,i.YI,l.rH,c.O5,i.Q$],styles:[""]}),o})()},{path:"add",component:G}]}];let P=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(J)],l.Bz]}),o})(),q=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[p],imports:[[c.ez,i.Pc,P,Z.m,a.UX]]}),o})()}}]);